(function(e){function t(t){for(var r,i,l=t[0],s=t[1],c=t[2],u=0,f=[];u<l.length;u++)i=l[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);d&&d(t);while(f.length)f.shift()();return n.push.apply(n,c||[]),o()}function o(){for(var e,t=0;t<n.length;t++){for(var o=n[t],r=!0,l=1;l<o.length;l++){var s=o[l];0!==a[s]&&(r=!1)}r&&(n.splice(t--,1),e=i(i.s=o[0]))}return e}var r={},a={app:0},n=[];function i(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=r,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(o,r,function(t){return e[t]}.bind(null,r));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=s;n.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"3dd8":function(e,t,o){"use strict";o("87ed")},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var r=o("2b0e"),a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("CSidebar",{attrs:{colorScheme:"Dark"}},[o("CSidebarNav",[o("CSidebarNavTitle",[o("a",{staticClass:"nav-title",attrs:{href:"/"}},[e._v("Areal Google Drive")])]),o("CSidebarNavDropdown",{attrs:{icon:"cil-storage",name:"Диски"}},[o("CSidebarNavItem",{attrs:{to:"/my-drive/folder/root",name:"Мой диск"}}),o("CSidebarNavItem",{attrs:{to:"/common-drives",name:"Общие диски"}})],1),o("CSidebarNavItem",{attrs:{to:"/export",icon:"cil-cloud-download",name:"Экспорт"}}),o("CSidebarNavItem",{attrs:{icon:"cil-code",name:"Логи"}}),o("CButton",{attrs:{color:"primary"},on:{click:function(t){return e.auth("google")}}},[e._v("Войти в Google")])],1)],1),o("CWrapper",[o("router-view",{key:e.$route.fullPath})],1)],1)},n=[],i=(o("b0c0"),{data:function(){return{user_data:{}}},mounted:function(){var e=this;this.$http.get("https://areal-gdrive.com/api/v1/user").then((function(t){return e.user_data={name:t.data.name,email:t.data.email,avatar:t.data.avatar}}))},methods:{auth:function(e){var t=this,o=this.hello;o(e).login().then((function(){var r=o(e).getAuthResponse();t.$http.get("api/v1/google-login",{params:{access_token:r.access_token,provider:e}}).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)}))}),(function(e){console.log(e)}))}}}),l=i,s=(o("5c0b"),o("2877")),c=Object(s["a"])(l,a,n,!1,null,null,null),d=c.exports,u=o("8c4f"),f=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"main-page"}},[o("CWrapper",{staticClass:"main-section"},[o("CHeader"),o("router-view")],1)],1)},p=[],m={components:{}},v=m,h=(o("3dd8"),Object(s["a"])(v,f,p,!1,null,null,null)),g=h.exports,C=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("CWrapper",{staticClass:"folder-explorer__section"},[o("CCard",{attrs:{bodyWrapper:""}},[o("CCardBody",[o("CDataTable",{attrs:{items:e.files,fields:e.fields},scopedSlots:e._u([{key:"Name",fn:function(t){var r=t.item;return[o("td",[o("img",{attrs:{src:r.icon,alt:"Иконка"}}),o("div",{staticClass:"file-name"},[!0!==r.type.includes("application/vnd.google-apps")?o("a",{staticClass:"file-name__link",attrs:{href:r.webContentLink,download:""}},[e._v(e._s(r.name))]):"application/vnd.google-apps.folder"!==r.type?o("a",{staticClass:"file-name__link",attrs:{target:"_blank",href:r.webviewLink}},[e._v(e._s(r.name))]):o("p",{staticClass:"file-name__folder",on:{click:function(t){return e.goIntoFolder(r.id)}}},[e._v(e._s(r.name))])])])]}},{key:"ModifiedTime",fn:function(t){var r=t.item;return[o("td",[e._v(" "+e._s(r.modifiedTime.toString())+" ")])]}},{key:"Size",fn:function(t){var r=t.item;return[o("td",[e._v(" "+e._s((r.size/1058816).toFixed(2)||"-")+" MB ")])]}}])}),o("CButton",{staticClass:"m-2",attrs:{color:"primary"},on:{click:e.goPrevFolder}},[o("CIcon",{attrs:{name:"cil-arrow-left"}})],1)],1)],1)],1)],1)},b=[],_={props:{folderId:{type:String,default:"root"}},data:function(){return{files:[],fields:[{key:"Name",label:"Название"},{key:"ModifiedTime",label:"Последние изменения"},{key:"Size",label:"Размер файла"}]}},mounted:function(){var e=this;this.$http.get("https://areal-gdrive.com/api/v1/files/".concat(this.folderId)).then((function(t){e.files=t.data.data}))},methods:{goIntoFolder:function(e){this.$router.push({name:"folder",params:{folderId:e}})},goPrevFolder:function(){this.$router.go(-1)}}},y=_,k=(o("8faf"),Object(s["a"])(y,C,b,!1,null,null,null)),x=k.exports,w=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"common-disks__page"}},[o("CWrapper",{staticClass:"folder-section"},[o("CCard",{attrs:{bodyWrapper:""}},[o("CCardBody",[o("CBreadcrumbRouter"),o("CDataTable",{attrs:{items:e.disks,fields:e.fields},scopedSlots:e._u([{key:"DiskName",fn:function(t){var r=t.item;return[o("td",[o("div",{staticClass:"drive",on:{click:function(t){return e.goToDisk(r.id)}}},[o("CIcon",{attrs:{size:"lg",name:"cil-storage"}}),o("p",{staticClass:"drive__name"},[e._v(" "+e._s(r.name)+" ")])],1)])]}}])})],1)],1)],1)],1)},D=[],S={data:function(){return{disks:[],fields:[{key:"DiskName",label:"Имя Диска"}]}},mounted:function(){var e=this;this.$http.get("https://areal-gdrive.com/api/v1/sharedDrives").then((function(t){e.disks=t.data}))},methods:{goToDisk:function(e){this.$router.push({name:"commonFolder",params:{folderId:e}})}}},T=S,O=(o("a3cd"),Object(s["a"])(T,w,D,!1,null,null,null)),N=O.exports,j=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"main-page"}},[o("CCard",{attrs:{bodyWrapper:""}},[o("CRow",[o("CCol",{attrs:{md:"6"}},[o("CCard",[o("CCardHeader",[e._v(" Экспорт документов Google Drive ")]),o("CCardBody",[o("CInput",{attrs:{label:"Имя папки:",placeholder:"Укажите папку, в которую будет происходить экспорт"},model:{value:e.folderNameToExportDrive,callback:function(t){e.folderNameToExportDrive=t},expression:"folderNameToExportDrive"}}),o("CButton",{staticClass:"m-2",attrs:{color:"info",size:e.md},on:{click:e.exportToGoogleDrive}},[e._v(" Экспортировать ")])],1),o("CCardFooter",[o("p",{staticClass:"result"},[e._v(e._s(e.resultOfExportDrive))])])],1)],1),o("CCol",{attrs:{md:"6"}},[o("CCard",[o("CCardHeader",[e._v(" Скачать на локальный диск ")]),o("CCardBody",[o("CInput",{attrs:{label:"Имя папки:",placeholder:"Укажите папку, в которую будет происходить скачивание"},model:{value:e.folderNameToDownload,callback:function(t){e.folderNameToDownload=t},expression:"folderNameToDownload"}}),o("CButton",{staticClass:"m-2",attrs:{color:"info",size:e.md}},[e._v(" Скачать файлы ")])],1)],1)],1)],1)],1)],1)},E=[],I={name:"ExportPage",data:function(){return{folderNameToExportDrive:"",folderNameToDownload:"",resultOfExportDrive:"",resultOfDownload:""}},methods:{exportToGoogleDrive:function(){var e=this;this.$http.get("https://areal-gdrive.com/api/v1/export/".concat(this.folderNameToExportDrive)).then((function(t){return e.resultOfExportDrive=t.data})).catch((function(t){e.resultOfExportDrive="Файлы были экспортированы неудачно!",console.log(t)}))}}},$=I,P=Object(s["a"])($,j,E,!1,null,"4773b6ea",null),B=P.exports;r["a"].use(u["a"]);var F=[{path:"/my-drive",component:g,children:[{path:"folder/:folderId",name:"folder",component:x,props:!0}]},{path:"/common-drives",component:N},{path:"/common-drives/folder/:folderId",component:x,name:"commonFolder",props:!0},{path:"/export",component:B,name:"ExportPage"}],M=new u["a"]({mode:"history",base:"/",routes:F}),W=M,z=o("cf2b"),G=o.n(z),H=o("bc3a"),A=o.n(H),L=o("2f12"),R=o("42d4"),q=o("6ee8"),J=o("40db"),U=o("e283"),K=o("705e"),Q=o("99bf"),V=o("8ae9"),X=o("ed18"),Y=o.n(X),Z=o("6794"),ee=o("8788");Z.init({google:"744887238689-i3p531fodl1jjeknp61h738pq9juqbpk.apps.googleusercontent.com"},{redirect_uri:"/login/google/callback"}),r["a"].use(ee,Z),r["a"].prototype.$http=A.a,r["a"].config.productionTip=!1,r["a"].use(G.a),Y.a.config(),new r["a"]({router:W,icons:{cilCode:L["a"],cilHome:R["a"],cibGoogle:q["a"],cilSettings:J["a"],cilStorage:U["a"],cilArrowLeft:K["a"],cilUser:Q["a"],cilCloudDownload:V["a"]},render:function(e){return e(d)}}).$mount("#app")},"5c0b":function(e,t,o){"use strict";o("9c0c")},"682d":function(e,t,o){},8199:function(e,t,o){},"87ed":function(e,t,o){},"8faf":function(e,t,o){"use strict";o("8199")},"9c0c":function(e,t,o){},a3cd:function(e,t,o){"use strict";o("682d")}});
//# sourceMappingURL=app.1c8a7d30.js.map