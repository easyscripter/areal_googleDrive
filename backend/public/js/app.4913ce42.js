(function(e){function t(t){for(var r,i,s=t[0],c=t[1],l=t[2],u=0,p=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,s=1;s<a.length;s++){var c=a[s];0!==n[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},o=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"3dd8":function(e,t,a){"use strict";a("87ed")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("CSidebar",{attrs:{colorScheme:"Dark"}},[a("CSidebarNav",[a("CSidebarNavTitle",[a("a",{staticClass:"nav-title",attrs:{href:"/"}},[e._v("Areal Google Drive")])]),a("CSidebarNavDropdown",{attrs:{icon:"cil-storage",name:"Диски"}},[a("CSidebarNavItem",{attrs:{to:"/my-drive/folder/root",name:"Мой диск"}}),a("CSidebarNavItem",{attrs:{to:"/common-drives",name:"Общие диски"}})],1),a("CSidebarNavItem",{attrs:{icon:"cil-code",name:"Логи"}}),a("CSidebarNavItem",{attrs:{icon:"cil-settings",name:"Настройки"}}),0===Object.keys(e.user_data).length?a("CSidebarNavItem",{attrs:{href:"/login/google",icon:"cib-google",name:"Войти в Google"}}):a("CSidebarNavDropdown",{attrs:{icon:"cil-smile",name:"Аккаунт"}},[a("CSidebarNavItem",[a("a",{staticClass:"c-sidebar-nav-link"},[a("img",{attrs:{src:e.user_data.avatar,alt:"Аватар",srcset:""}}),a("p",[e._v("Привет, "+e._s(e.user_data.name))])])]),a("CSidebarNavItem",{attrs:{href:"/user/logout",name:"Выход"}})],1)],1)],1),a("CWrapper",[a("router-view",{key:e.$route.fullPath})],1)],1)},o=[],i=(a("b0c0"),a("bc3a")),s=a.n(i),c={data:function(){return{user_data:{}}},mounted:function(){var e=this;this.user_data={},console.log(this.user_data),s.a.get("https://areal-gdrive.com/api/v1/user").then((function(t){return e.user_data={name:t.data.name,email:t.data.email,avatar:t.data.avatar}}))}},l=c,d=(a("5c0b"),a("2877")),u=Object(d["a"])(l,n,o,!1,null,null,null),p=u.exports,f=a("8c4f"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"main-page"}},[a("CWrapper",{staticClass:"main-section"},[a("CHeader"),a("router-view")],1)],1)},v=[],b={components:{},data:function(){return{}}},C=b,g=(a("3dd8"),Object(d["a"])(C,m,v,!1,null,null,null)),h=g.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("CWrapper",{staticClass:"folder-explorer__section"},[a("CCard",{attrs:{bodyWrapper:""}},[a("CCardBody",[a("CDataTable",{attrs:{items:e.files,fields:e.fields},scopedSlots:e._u([{key:"Name",fn:function(t){var r=t.item;return[a("td",[a("img",{attrs:{src:r.icon,alt:"Иконка"}}),a("div",{staticClass:"file-name"},[!0!==r.type.includes("application/vnd.google-apps")?a("a",{staticClass:"file-name__link",attrs:{href:r.webContentLink,download:""}},[e._v(e._s(r.name))]):"application/vnd.google-apps.folder"!==r.type?a("a",{staticClass:"file-name__link",attrs:{target:"_blank",href:r.webviewLink}},[e._v(e._s(r.name))]):a("p",{staticClass:"file-name__folder",on:{click:function(t){return e.goIntoFolder(r.id)}}},[e._v(e._s(r.name))])])])]}},{key:"ModifiedTime",fn:function(t){var r=t.item;return[a("td",[e._v(" "+e._s(r.modifiedTime.toString())+" ")])]}},{key:"Size",fn:function(t){var r=t.item;return[a("td",[e._v(" "+e._s((r.size/1058816).toFixed(2)||"-")+" MB ")])]}}])}),a("CButton",{staticClass:"m-2",attrs:{color:"primary"},on:{click:e.goPrevFolder}},[a("CIcon",{attrs:{name:"cil-arrow-left"}})],1)],1)],1)],1)],1)},y=[],S={props:{folderId:{type:String,default:"root"}},data:function(){return{files:[],fields:[{key:"Name",label:"Название"},{key:"ModifiedTime",label:"Последние изменения"},{key:"Size",label:"Размер файла"}]}},mounted:function(){var e=this;s.a.get("https://areal-gdrive.com/api/v1/files/".concat(this.folderId)).then((function(t){e.files=t.data.data}))},methods:{goIntoFolder:function(e){this.$router.push({name:"folder",params:{folderId:e}})},goPrevFolder:function(){this.$router.go(-1)}}},k=S,N=(a("8faf"),Object(d["a"])(k,_,y,!1,null,null,null)),w=N.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"common-disks__page"}},[a("CWrapper",{staticClass:"folder-section"},[a("CCard",{attrs:{bodyWrapper:""}},[a("CCardBody",[a("CBreadcrumbRouter"),a("CDataTable",{attrs:{items:e.disks,fields:e.fields},scopedSlots:e._u([{key:"DiskName",fn:function(t){var r=t.item;return[a("td",[a("div",{staticClass:"drive",on:{click:function(t){return e.goToDisk(r.id)}}},[a("CIcon",{attrs:{size:"lg",name:"cil-storage"}}),a("p",{staticClass:"drive__name"},[e._v(" "+e._s(r.name)+" ")])],1)])]}}])})],1)],1)],1)],1)},j=[],O={data:function(){return{disks:[],fields:[{key:"DiskName",label:"Имя Диска"}]}},mounted:function(){var e=this;s.a.get("https://areal-gdrive.com/api/v1/sharedDrives").then((function(t){e.disks=t.data}))},methods:{goToDisk:function(e){this.$router.push({name:"commonFolder",params:{folderId:e}})}}},D=O,T=(a("a3cd"),Object(d["a"])(D,I,j,!1,null,null,null)),x=T.exports;r["a"].use(f["a"]);var P=[{path:"/my-drive",component:h,children:[{path:"folder/:folderId",name:"folder",component:w,props:!0}]},{path:"/common-drives",component:x},{path:"/common-drives/folder/:folderId",component:w,name:"commonFolder",props:!0}],B=new f["a"]({mode:"history",base:"/",routes:P}),$=B,W=a("cf2b"),F=a.n(W),M=a("2f12"),L=a("42d4"),z=a("6ee8"),E=a("40db"),G=a("e283"),R=a("705e"),q=a("db31"),A=a("ed18"),H=a.n(A),J=a("6794"),K=a("8788");r["a"].config.productionTip=!1,r["a"].use(F.a),r["a"].component("CWrapper",W["CWrapper"]),r["a"].component("CCard",W["CCard"]),r["a"].component("CSidebar",W["CSidebar"]),r["a"].component("CSidebarNavItem",W["CSidebarNavItem"]),r["a"].component("CSidebarNavTitle",W["CSidebarNavTitle"]),r["a"].component("CSidebarNav",W["CSidebarNav"]),r["a"].component("CSidebarNavDropdown",W["CSidebarNavDropdown"]),r["a"].component("CSidebarNavLInk",W["CSidebarNavLInk"]),r["a"].component("CIcon",W["CIcon"]),r["a"].component("CCardBody",W["CCardBody"]),r["a"].component("CDataTable",W["CDataTable"]),r["a"].component("CBreadcrumbRouter",W["CBreadcrumbRouter"]),H.a.config(),J.init({google:"744887238689-i3p531fodl1jjeknp61h738pq9juqbpk.apps.googleusercontent.com"},{redirect_uri:"/login/google/callback"}),r["a"].use(K,J),new r["a"]({router:$,icons:{cilCode:M["a"],cilHome:L["a"],cibGoogle:z["a"],cilSettings:E["a"],cilStorage:G["a"],cilArrowLeft:R["a"],cilSmile:q["a"]},render:function(e){return e(p)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";a("9c0c")},"682d":function(e,t,a){},8199:function(e,t,a){},"87ed":function(e,t,a){},"8faf":function(e,t,a){"use strict";a("8199")},"9c0c":function(e,t,a){},a3cd:function(e,t,a){"use strict";a("682d")}});
//# sourceMappingURL=app.4913ce42.js.map